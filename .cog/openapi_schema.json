{"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"title":"Detail","type":"array"}},"title":"HTTPValidationError","type":"object"},"Input":{"properties":{"ad_hands_prompt":{"default":"","title":"Ad Hands Prompt","type":"string","x-order":28},"ad_prompt":{"default":"","title":"Ad Prompt","type":"string","x-order":27},"adetailer":{"default":false,"description":"Enable adetailer","title":"Adetailer","type":"boolean","x-order":30},"adetailer_args":{"default":"{}","description":"Adetailer arguments","title":"Adetailer Args","type":"string","x-order":31},"adetailer_args_hands":{"default":"{}","description":"Adetailer arguments for hands","title":"Adetailer Args Hands","type":"string","x-order":32},"aspect_ratio":{"allOf":[{"$ref":"#/components/schemas/aspect_ratio"}],"default":"9:16","description":"Aspect ratio for the generated image","x-order":23},"debug_flux_checkpoint_url":{"default":"","description":"Flux checkpoint URL. UPDATE 18.05.2025 BREAKS IT BECAUSE OF NEW def calculate_shorthash(self):","title":"Debug Flux Checkpoint Url","type":"string","x-order":15},"denoising_strength":{"default":0.3,"description":"Denoising strength. 1.0 corresponds to full destruction of information in init image","maximum":1,"minimum":0,"title":"Denoising Strength","type":"number","x-order":14},"distilled_guidance_scale":{"default":3.5,"description":"Distilled CFG Scale (основной параметр для Flux, рекомендуется 3.5)","maximum":30,"minimum":0,"title":"Distilled Guidance Scale","type":"number","x-order":8},"enable_ae":{"default":false,"description":"Enable ae","title":"Enable Ae","type":"boolean","x-order":18},"enable_clip_l":{"default":false,"description":"Enable encoder","title":"Enable Clip L","type":"boolean","x-order":16},"enable_hr":{"default":true,"description":"Hires. fix","title":"Enable Hr","type":"boolean","x-order":10},"enable_t5xxl_fp16":{"default":false,"description":"t5xxl_fp16","title":"Enable T5Xxl Fp16","type":"boolean","x-order":17},"force_model_reload":{"default":false,"description":"Load Flux model from scratch","title":"Force Model Reload","type":"boolean","x-order":19},"forge_unet_storage_dtype":{"allOf":[{"$ref":"#/components/schemas/forge_unet_storage_dtype"}],"default":"Automatic (fp16 LoRA)","description":"forge_unet_storage_dtype","x-order":20},"guidance_scale":{"default":1,"description":"CFG Scale (для Flux рекомендуется значение 1.0)","maximum":50,"minimum":1,"title":"Guidance Scale","type":"number","x-order":7},"height":{"default":0,"description":"Height of output image","maximum":1280,"minimum":0,"title":"Height","type":"integer","x-order":2},"hr_scale":{"default":1.3,"description":"Factor to scale image by","maximum":4,"minimum":1,"title":"Hr Scale","type":"number","x-order":13},"hr_steps":{"default":8,"description":"Inference steps for Hires. fix","maximum":100,"minimum":0,"title":"Hr Steps","type":"integer","x-order":12},"hr_upscaler":{"allOf":[{"$ref":"#/components/schemas/hr_upscaler"}],"default":"4x-UltraSharp","description":"Upscaler for Hires. fix","x-order":11},"image":{"default":"","description":"Input image for image to image mode. The aspect ratio of your output will match this image","title":"Image","type":"string","x-order":21},"lora_scales":{"default":[1],"description":"Lora scales","items":{"type":"number"},"title":"Lora Scales","type":"array","x-order":26},"lora_urls":{"default":[],"description":"Ссылки на LoRA файлы","items":{"type":"string"},"title":"Lora Urls","type":"array","x-order":25},"num_inference_steps":{"default":8,"description":"Number of denoising steps","maximum":200,"minimum":1,"title":"Num Inference Steps","type":"integer","x-order":6},"num_outputs":{"default":1,"description":"Number of images to output","maximum":4,"minimum":1,"title":"Num Outputs","type":"integer","x-order":3},"output_format":{"allOf":[{"$ref":"#/components/schemas/output_format"}],"default":"webp","description":"Format of the output images","x-order":24},"postback_url":{"default":"","title":"Postback Url","type":"string","x-order":29},"prompt":{"description":"Prompt","title":"Prompt","type":"string","x-order":0},"prompt_strength":{"default":0.8,"description":"Prompt strength (or denoising strength) when using image to image. 1.0 corresponds to full destruction of information in image.","maximum":1,"minimum":0,"title":"Prompt Strength","type":"number","x-order":22},"sampler":{"allOf":[{"$ref":"#/components/schemas/sampler"}],"default":"Euler","description":"Sampling method для Flux моделей","x-order":4},"scheduler":{"allOf":[{"$ref":"#/components/schemas/scheduler"}],"default":"Simple","description":"Schedule type для Flux моделей","x-order":5},"seed":{"default":-1,"description":"Random seed. Leave blank to randomize the seed","title":"Seed","type":"integer","x-order":9},"width":{"default":0,"description":"Width of output image","maximum":1280,"minimum":0,"title":"Width","type":"integer","x-order":1}},"required":["prompt"],"title":"Input","type":"object"},"Output":{"items":{"format":"uri","type":"string"},"title":"Output","type":"array"},"PredictionRequest":{"properties":{"created_at":{"format":"date-time","title":"Created At","type":"string"},"id":{"title":"Id","type":"string"},"input":{"$ref":"#/components/schemas/Input"},"output_file_prefix":{"title":"Output File Prefix","type":"string"},"webhook":{"format":"uri","maxLength":65536,"minLength":1,"title":"Webhook","type":"string"},"webhook_events_filter":{"default":["start","output","logs","completed"],"items":{"$ref":"#/components/schemas/WebhookEvent"},"type":"array"}},"title":"PredictionRequest","type":"object"},"PredictionResponse":{"properties":{"completed_at":{"format":"date-time","title":"Completed At","type":"string"},"created_at":{"format":"date-time","title":"Created At","type":"string"},"error":{"title":"Error","type":"string"},"id":{"title":"Id","type":"string"},"input":{"$ref":"#/components/schemas/Input"},"logs":{"default":"","title":"Logs","type":"string"},"metrics":{"title":"Metrics","type":"object"},"output":{"$ref":"#/components/schemas/Output"},"started_at":{"format":"date-time","title":"Started At","type":"string"},"status":{"$ref":"#/components/schemas/Status"},"version":{"title":"Version","type":"string"}},"title":"PredictionResponse","type":"object"},"Status":{"description":"An enumeration.","enum":["starting","processing","succeeded","canceled","failed"],"title":"Status","type":"string"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"title":"Location","type":"array"},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}},"required":["loc","msg","type"],"title":"ValidationError","type":"object"},"WebhookEvent":{"description":"An enumeration.","enum":["start","output","logs","completed"],"title":"WebhookEvent","type":"string"},"aspect_ratio":{"description":"An enumeration.","enum":["1:1","16:9","21:9","3:2","2:3","4:5","5:4","3:4","4:3","9:16","9:21"],"title":"aspect_ratio","type":"string"},"forge_unet_storage_dtype":{"description":"An enumeration.","enum":["Automatic","Automatic (fp16 LoRA)","FP16","FP16 (fp16 LoRA)","FP32","FP32 (fp16 LoRA)","bnb-nf4","bnb-nf4 (fp16 LoRA)","float8-e4m3fn","float8-e4m3fn (fp16 LoRA)","bnb-fp4","bnb-fp4 (fp16 LoRA)","float8-e5m2","float8-e5m2 (fp16 LoRA)"],"title":"forge_unet_storage_dtype","type":"string"},"hr_upscaler":{"description":"An enumeration.","enum":["Latent","Latent (antialiased)","Latent (bicubic)","Latent (bicubic antialiased)","Latent (nearest)","Latent (nearest-exact)","None","Lanczos","Nearest","ESRGAN_4x","4x-UltraSharp","LDSR","R-ESRGAN 4x+","R-ESRGAN 4x+ Anime6B","ScuNET GAN","ScuNET PSNR","SwinIR 4x","debug"],"title":"hr_upscaler","type":"string"},"output_format":{"description":"An enumeration.","enum":["webp","jpg","png"],"title":"output_format","type":"string"},"sampler":{"description":"An enumeration.","enum":["Euler","DEIS","Euler a","DPM++ 2M","DPM++ SDE","DPM++ 2M SDE","DPM++ 2M SDE Karras","DPM++ 2M SDE Exponential","DPM++ 3M SDE","DPM++ 3M SDE Karras","DPM++ 3M SDE Exponential"],"title":"sampler","type":"string"},"scheduler":{"description":"An enumeration.","enum":["Simple","Karras","Exponential","SGM Uniform","SGM Karras","SGM Exponential","KL Optimal","Normal","DDIM","Beta","Turbo"],"title":"scheduler","type":"string"}}},"info":{"title":"Cog","version":"0.1.0"},"openapi":"3.0.2","paths":{"/":{"get":{"operationId":"root__get","responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Root  Get"}}},"description":"Successful Response"}},"summary":"Root"}},"/health-check":{"get":{"operationId":"healthcheck_health_check_get","responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Healthcheck Health Check Get"}}},"description":"Successful Response"}},"summary":"Healthcheck"}},"/predictions":{"post":{"description":"Run a single prediction on the model","operationId":"predict_predictions_post","parameters":[{"in":"header","name":"prefer","required":false,"schema":{"title":"Prefer","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionRequest"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Predict"}},"/predictions/{prediction_id}":{"put":{"description":"Run a single prediction on the model (idempotent creation).","operationId":"predict_idempotent_predictions__prediction_id__put","parameters":[{"in":"path","name":"prediction_id","required":true,"schema":{"title":"Prediction ID","type":"string"}},{"in":"header","name":"prefer","required":false,"schema":{"title":"Prefer","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PredictionRequest"}],"title":"Prediction Request"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Predict Idempotent"}},"/predictions/{prediction_id}/cancel":{"post":{"description":"Cancel a running prediction","operationId":"cancel_predictions__prediction_id__cancel_post","parameters":[{"in":"path","name":"prediction_id","required":true,"schema":{"title":"Prediction ID","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Cancel Predictions  Prediction Id  Cancel Post"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Cancel"}},"/shutdown":{"post":{"operationId":"start_shutdown_shutdown_post","responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Start Shutdown Shutdown Post"}}},"description":"Successful Response"}},"summary":"Start Shutdown"}}}}